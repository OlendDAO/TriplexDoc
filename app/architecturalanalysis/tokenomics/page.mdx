import { Callout, Cards, FileTree, Steps, Tabs } from 'nextra/components'

# Triplex 代币经济系统

<Callout type="info">
  Triplex 的代币经济模型相比 V2 版本进行了重大改进，引入了更灵活的激励机制和更高效的资本利用模式。新模型支持多元抵押品、优化了质押奖励分配，并实现了更精细的风险管理。
</Callout>

## TRT 代币演进

### 角色转变

<Cards>
  <Cards.Card title="V2 角色" href="#v2-角色">
    质押者、借贷者、流动性提供者
  </Cards.Card>
  <Cards.Card title="V3 角色" href="#v3-角色">
    验证者、治理者、委托者
  </Cards.Card>
  <Cards.Card title="资本效率" href="#资本效率">
    资金利用、风险优化、收益策略
  </Cards.Card>
  <Cards.Card title="治理权重" href="#治理权重">
    投票权重、代币数量、质押时间
  </Cards.Card>
</Cards>

### 功能扩展

<Tabs items={['多元抵押', '资金池模型', '治理机制']}>
  <Tabs.Tab>
    <Steps>
      1. **抵押品支持**
         - TRT 优先地位
         - ETH/USDC 等支持
         - 差异化抵押率
      
      2. **风险管理**
         - 抵押品评估
         - 风险分级
         - 清算保护
    </Steps>
  </Tabs.Tab>
  
  <Tabs.Tab>
    <Cards>
      <Cards.Card title="共享池" href="#共享池">
        流动性集中、效率提升、优化分配
      </Cards.Card>
      <Cards.Card title="委托机制" href="#委托机制">
        收益分享、角色分离、专业管理
      </Cards.Card>
      <Cards.Card title="风险隔离" href="#风险隔离">
        独立账户、风险分散、故障控制
      </Cards.Card>
    </Cards>
  </Tabs.Tab>
  
  <Tabs.Tab>
    <Steps>
      1. **权重计算**
         - 质押量权重
         - 时间权重
         - 市场贡献度
      
      2. **决策范围**
         - 系统参数调整
         - 资源分配
         - 风险管理
    </Steps>
  </Tabs.Tab>
</Tabs>

## 质押奖励机制

### 奖励来源

<Cards>
  <Cards.Card title="协议通胀" href="#协议通胀">
    恒定发行、通胀控制、价值支撑
  </Cards.Card>
  <Cards.Card title="交易费用" href="#交易费用">
    市场费用、协议费用、分配机制
  </Cards.Card>
  <Cards.Card title="流动性激励" href="#流动性激励">
    流动性挖矿、收益分享、长期激励
  </Cards.Card>
</Cards>

### 分配算法

```solidity
struct StakingReward {
    uint256 baseReward;      // 基础区块奖励
    uint256 stakeRatio;      // 质押比例
    uint256 marketMultiplier; // 市场表现乘数
    uint256 timeWeight;      // 时间权重
    uint256 poolWeight;      // 资金池权重
}

function calculateReward(StakingReward memory reward) public pure returns (uint256) {
    return reward.baseReward
        .mul(reward.stakeRatio)
        .mul(reward.marketMultiplier)
        .mul(reward.timeWeight)
        .mul(reward.poolWeight)
        .div(PRECISION);
}
```

### 债务池管理

<Tabs items={['分离机制', '动态分配', '风险控制']}>
  <Tabs.Tab>
    <Cards>
      <Cards.Card title="独立追踪" href="#独立追踪">
        头寸记录、风险评估、性能监控
      </Cards.Card>
      <Cards.Card title="风险隔离" href="#风险隔离">
        故障限制、交叉污染防护、安全保障
      </Cards.Card>
      <Cards.Card title="清算独立" href="#清算独立">
        独立清算、风险控制、市场稳定
      </Cards.Card>
    </Cards>
  </Tabs.Tab>
  
  <Tabs.Tab>
    <Steps>
      1. **分配调整**
         - 市场活动监控
         - 自动债务分配
         - 上限管理
      
      2. **平衡机制**
         - 债务再平衡
         - 收益分配
         - 风险补偿
    </Steps>
  </Tabs.Tab>
  
  <Tabs.Tab>
    <Cards>
      <Cards.Card title="监控系统" href="#监控系统">
        状态监控、预警触发、异常检测
      </Cards.Card>
      <Cards.Card title="预警机制" href="#预警机制">
        风险指标、阈值设置、通知渠道
      </Cards.Card>
      <Cards.Card title="干预措施" href="#干预措施">
        紧急停止、参数调整、恢复机制
      </Cards.Card>
    </Cards>
  </Tabs.Tab>
</Tabs>

## 费用经济模型

### 费用结构

<Tabs items={['交易费用', '资金费率', '清算费用']}>
  <Tabs.Tab>
    <Steps>
      1. **基础费用**
         - 比例费率
         - 动态调整
         - 市场特化
      
      2. **优化机制**
         - 流动性激励
         - 市场效率
         - 成本控制
    </Steps>
  </Tabs.Tab>
  
  <Tabs.Tab>
    <Cards>
      <Cards.Card title="永续市场" href="#永续市场">
        持续运行、无到期日、自动延展
      </Cards.Card>
      <Cards.Card title="费率调整" href="#费率调整">
        动态费用、需求响应、风险定价
      </Cards.Card>
      <Cards.Card title="收益分配" href="#收益分配">
        多方受益、比例分配、激励优化
      </Cards.Card>
    </Cards>
  </Tabs.Tab>
  
  <Tabs.Tab>
    <Steps>
      1. **罚金机制**
         - 清算触发
         - 罚金计算
         - 分配规则
      
      2. **激励分配**
         - 清算者奖励
         - 协议收益
         - 质押者补偿
    </Steps>
  </Tabs.Tab>
</Tabs>

### 收益分配

<Steps>
  1. **收益池管理**
     - 市场收益汇总
     - 分配比例设置
     - 收益分类处理
  
  2. **分配流程**
     - 质押者分成(70-80%)
     - 国库分配(10-20%)
     - 流动性奖励(动态)
  
  3. **提取机制**
     - 定期结算
     - 权重计算
     - 自动分配
</Steps>

## 通胀/通缩机制

<Callout type="warning">
  V3 采用动态通胀/通缩机制，通过多种手段实现代币供应的灵活调节，确保系统的长期可持续性。
</Callout>

### 通胀控制

<Cards>
  <Cards.Card title="递减模型" href="#递减模型">
    初期高收益、阶梯减少、长期稳定
  </Cards.Card>
  <Cards.Card title="动态分配" href="#动态分配">
    市场响应、策略适应、活跃调整
  </Cards.Card>
  <Cards.Card title="临时调整" href="#临时调整">
    特殊活动、市场干预、流动性管理
  </Cards.Card>
</Cards>

### 通缩机制

<Tabs items={['费用焚烧', '惩罚机制', '市值管理']}>
  <Tabs.Tab>
    <Steps>
      1. **焚烧触发**
         - 盈利条件
         - 阈值设置
         - 自动执行
      
      2. **执行流程**
         - 回购操作
         - 焚烧确认
         - 供应更新
    </Steps>
  </Tabs.Tab>
  
  <Tabs.Tab>
    <Cards>
      <Cards.Card title="质押惩罚" href="#质押惩罚">
        错误惩罚、恶意行为处罚、代币削减
      </Cards.Card>
      <Cards.Card title="罚金焚烧" href="#罚金焚烧">
        通胀控制、价值支撑、供应减少
      </Cards.Card>
      <Cards.Card title="威慑机制" href="#威慑机制">
        行为引导、防护措施、成本提高
      </Cards.Card>
    </Cards>
  </Tabs.Tab>
  
  <Tabs.Tab>
    <Steps>
      1. **主动管理**
         - 回购计划
         - 触发条件
         - 执行策略
      
      2. **长期规划**
         - 市值目标
         - 增长策略
         - 稳定机制
    </Steps>
  </Tabs.Tab>
</Tabs>

## 市场激励差异

### 永续期货市场

<Cards>
  <Cards.Card title="深度奖励" href="#深度奖励">
    流动性深度、市场韧性、定价效率
  </Cards.Card>
  <Cards.Card title="风险收益" href="#风险收益">
    风险补偿、收益平衡、策略调整
  </Cards.Card>
  <Cards.Card title="市场激励" href="#市场激励">
    交易活跃、套利机会、市场效率
  </Cards.Card>
</Cards>

### 现货市场

<Steps>
  1. **流动性激励**
     - 交易量联动
     - 滑点优化
     - 多样化支持
  
  2. **稳定资产**
     - 特殊奖励
     - 费用优惠
     - 跨市场支持
</Steps>

### 基础费用池

<Tabs items={['对冲奖励', '预测机制']}>
  <Tabs.Tab>
    <Cards>
      <Cards.Card title="气价对冲" href="#气价对冲">
        成本平滑、风险转移、价格保护
      </Cards.Card>
      <Cards.Card title="动态调整" href="#动态调整">
        市场响应、自动优化、参数调整
      </Cards.Card>
      <Cards.Card title="成本管理" href="#成本管理">
        费用控制、效率提升、优化分配
      </Cards.Card>
    </Cards>
  </Tabs.Tab>
  
  <Tabs.Tab>
    <Steps>
      1. **预测奖励**
         - 准确度奖励
         - 趋势预测
         - 市场反馈
      
      2. **机制优化**
         - 预测市场
         - 数据聚合
         - 策略调整
    </Steps>
  </Tabs.Tab>
</Tabs>

## 资本效率

### 优化策略

<Steps>
  1. **多层抵押**
     - 差异化抵押率
     - 动态调整
     - 安全平衡
  
  2. **跨市场共享**
     - 抵押品共享
     - 风险隔离
     - 优先级机制
  
  3. **动态分配**
     - 需求响应
     - 效率评分
     - 优化配置
</Steps>

### 风险平衡

<Cards>
  <Cards.Card title="分层机制" href="#分层机制">
    等级划分、权益差异、晋升路径
  </Cards.Card>
  <Cards.Card title="动态收益" href="#动态收益">
    市场响应、绩效激励、风险调整
  </Cards.Card>
  <Cards.Card title="长期激励" href="#长期激励">
    锁定期限、持续奖励、忠诚回报
  </Cards.Card>
</Cards> 